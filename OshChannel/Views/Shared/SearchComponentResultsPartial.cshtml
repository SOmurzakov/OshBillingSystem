@model OshBusinessModel.Da.ContractsSearchResult

@{
    if (
        Model == null 
        || 
        (
            (Model.Contracts == null || Model.Contracts.Length == 0)
            &&
            (Model.Subscribers == null || Model.Subscribers.Length == 0)
        )
            
        )
    {
        <div class="shortHelp">
            <p>Ничего не найдено</p>
        </div>
    }
    else
    {
        if (Model.Contracts != null && Model.Contracts.Length > 0)
        {
            <h3>Контракты</h3>
            
            <table class="table table-striped table-bordered table-condensed">
                <thead>
                    <tr>
                        <th>Контракт</th>
                        <th>Абонент</th>
                        <th>Адрес</th>
                        <th>Телефон</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach(var item in Model.Contracts)
                    {
                        <tr>
                            <td><a href="@Url.Action("Show", "Contracts", new {contractId = item.ContractId})">@item.ContractStringId</a></td>
                            <td>@item.Name</td>
                            <td>@item.Address</td>
                            <td>@item.Phone</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        
        if (Model.Subscribers != null && Model.Subscribers.Length > 0)
        {
           <h3>Абоненты</h3> 
            
            <table class="table table-striped table-bordered table-condensed">
                <thead>
                    <tr>
                        <th>Абонент</th>
                        <th>ФИО</th>
                        <th>Адрес</th>
                        <th>Телефон</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach(var item in Model.Subscribers)
                    {
                        <tr>
                            <td><a href="@Url.Action("Show", "Subscribers", new {subscriberId = item.SubscriberId})">@item.Type-@item.SubscriberId</a></td>
                            <td>@item.Name</td>
                            <td>@item.Address</td>
                            <td>@item.Phone</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    }
}